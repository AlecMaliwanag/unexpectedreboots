<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Dashboard</title>

  <script src="../node_modules/jquery/dist/jquery.js"></script>
  <script src="../node_modules/react/dist/react.js"></script>
  <script src="../node_modules/react-dom/dist/react-dom.js"></script>
  <link rel="stylesheet" href="../node_modules/remodal/dist/remodal.css">
  <link rel="stylesheet" href="../node_modules/remodal/dist/remodal-default-theme.css">
  <script src="../node_modules/remodal/dist/remodal.min.js"></script>
<body>
  <div id="app"></div>

  
  <div class="remodal" data-remodal-id="modal">
  <button data-remodal-action="close" class="remodal-close"></button>
  <h1>Group Name:</h1>
  <form>
    <br>
    <input class='groupName' type='text' name='groupName' />
    <br><br>
    <input type="submit" value="Submit">
  </form>
  <br>
  </div>

  <script>
    $(document).ready(function() {
      var $form = $('form');
      $form.submit(function() {
        $.ajax({
          url: 'http://104.237.1.118:3000/test/groups/create',
          method: 'POST',
          data: {
            groupName: $('.groupName').val(),
            owner: 'dylan'  //TODO: change this to the username in the cookie
          },
          success: function(data) {
            if (data === true) {
              //get rid of the modal
              //rerender the controller
              console.log('it was true');
            } else {
              //get rid of the modal
              //show a 'duplicate group modal'
              console.log('it was false');
            } 
          }
        });
        return false;
      });
    });
  </script>


  <script src="./compiled/client/src/dashboardComponents/App.js"></script>
  <script src="./compiled/client/src/dashboardComponents/Views.js"></script>
  <script src="./compiled/client/src/dashboardComponents/Heading.js"></script>
  <script src="./compiled/client/src/dashboardComponents/MarkupPanel.js"></script>
  <script src="./compiled/client/src/dashboardComponents/MarkupEntry.js"></script>
  <script src="./compiled/client/src/dashboardComponents/MarkupAnnotes.js"></script>
  <script src="./compiled/client/src/dashboardComponents/GroupPanel.js"></script>
  <script src="./compiled/client/src/dashboardComponents/AddGroup.js"></script>
  <script src="./compiled/client/src/dashboardComponents/Group.js"></script>
  <script src="./compiled/client/src/dashboardComponents/UserPanel.js"></script>
  <script src="./compiled/client/src/dashboardComponents/User.js"></script>
  <script src="./compiled/client/src/dashboardComponents/SharedPanel.js"></script>
  <script src="./compiled/client/src/dashboardComponents/SiteEntry.js"></script>
  <script src="./compiled/client/src/dashboardComponents/AddUser.js"></script>

  <script src="./compiled/client/src/dashboard.js"></script>
  <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.css">
  <link rel="stylesheet" href="./css/dashboard.css">
</body>
</html>
